# 상태 코드

클라이언트가 보낸 요청의 처리 상태를 응답에서 알려주는 기능

# 2xx 요청 정상 처리

## 201 created

- 요청이 성공해서 새로운 리소스가 생성된다.
- Location 헤더에 새로 생성된 리소스를 넣는다.

## 202 Accepted

- 요청이 접수되었으나 처리가 완료되지 않았다.

## 204 No Content

- 서버가 요청을 성공적으로 수행했으나, 응답 페이로드에 보낼 데이터가 없다.
- 단순히 성공을 인식할 수 있도록
- ex) 웹 문서 편집기의 save 버튼

# 3xx 리다이렉션

- 요청을 완료하기 위해 웹 브라우저의 추가 조치가 필요한 경우

## 리다이렉트

- 3xx 응답의 결과에 Location 헤더가 있으면 해당 위치로 자동 이동한다.

![redirect](https://github.com/Jin409/TodayILearned/assets/77621712/ac08ff52-ec6e-4e10-aaa5-d8b1185ab195)

- 리다이렉트 되어야 하는 경우, 리다이렉트되어야 하는 엔드포인트를 응답으로 준다.
- 이후 클라이언트는 해당 엔드포인트로 요청을 다시 보낸다.

## 1. 영구 리다이렉션

- URI 가 영구적으로 이동하는 경우

### 301 Moved Permanently

- 리다이렉트시 요청 메서드가 GET 으로 변하고 본문이 제거될 수 있다.

### 308 Permanent Redirect

- POST 요청으로 보내면 그대로 POST 방식
- 바디 내부가 사라지지 않는다.

## 2. 일시 리다이렉션

- 주문 완료 후에 주문 내역 화면으로 이동

### 302 Found

- 리다이렉트 시 요청 메서드가 GET 으로, 본문이 제거될 수 있다.

### 307 Temporary Redirect

- 요청 메서드와 본문이 유지된다.

## 303

- 302 와 기능은 같다.
- 요청 메서드가 GET 으로 변경된다.

### PRG Post / Redirect / Get

- POST 로 주문 후에 웹 브라우저 새로고침하면 다시 요청이 된다. - 중복 주문!
- 주문 후에는 바로 GET 메서드로 리다이렉트
    - 이후에는 새로고침해도 결과 화면을 GET 으로 가져온다.

## 3. 특수 리다이렉션

- 결과 대신 캐시를 사용
    - 서버가 클라이언트의 요청을 받아들이는 대신 캐시 정보를 활용하라고 다시 캐시쪽으로 보내는 것

### 304 Not Modified

- 캐시를 목적으로 사용한다.
- 클라이언트에게 리소스가 수정되지 않았다는 것을 알려준다. 따라서 클라이언트는 저장된 캐시를 재사용한다.
- 304 응답은 응답에 메시지 바디를 포함해서는 안된다.

# 4xx 클라이언트 오류

- 오류의 원인이 클라이언트 쪽에 있다.
- 여러번 재시도해도 똑같이 실패해야 한다.

## 400 Bad Request

- 요청 구문, 메시지 등이 오류일 떄

## 401 Unauthorized

- 인증이 되지 않음
- 오류 발생 시에 응답에 WWW-Authenticated 헤더와 함께 인증 방법을 설명한다.
- 사실은 UnAuthenticated 가 더 맞는 표현

## 403 Forbidden

- 자격 증명은 있지만 권한은 없을 떄

## 404 Not Found

- 요청 리소스가 서버에 없는 경우
- 클라이언트가 권한이 부족한 리소스에 접근할 때 해당 리소스를 숨기고자 한다면

# 5xx 서버 오류

- 서버에 문제가 있는 경우
- 재시도 하면 성공할 수도 있다.

## 503 Service Unavailable

- 서비스 이용 불가
- 일시적인 과부하 혹은 예정된 작업으로 인해 요청을 처리할 수 없는 상황
- Retry-After 헤더 필드로 얼마 뒤에 복구되는지 보낼 수도 있다.


